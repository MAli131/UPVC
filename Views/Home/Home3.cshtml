@model UPVC.ViewModels.HomeViewModel
@using System.Globalization
@{
    Layout = "_Layout";
    var isArabic = CultureInfo.CurrentCulture.Name.StartsWith("ar");
    var companyName = isArabic ? Model.CompanyInfo?.NameAr : Model.CompanyInfo?.NameEn;
    ViewData["Title"] = companyName;

    var currentLang = Context.Request.Cookies["selectedLanguage"] ?? "en";

    var title = isArabic ? Model.HomePage?.TitleAr : Model.HomePage?.TitleEn;
    var subtitle = isArabic ? Model.HomePage?.SubtitleAr : Model.HomePage?.SubtitleEn;
    
}

@section Styles {
    <link rel="stylesheet" href="~/css/style.css" />
}

<!-- ===== HERO SECTION ===== -->
<section class="hero-section home3">
    <div class="container">
        <div class="vertical-dots white-dots">
            <a asp-controller="Home" asp-action="Index" class="dot"></a>
            <a asp-controller="Home" asp-action="Home2" class="dot"></a>
            <a asp-controller="Home" asp-action="Home3" class="dot active"></a>
            <a asp-controller="Home" asp-action="Home4" class="dot"></a>
        </div>
        <div class="hero-content"> 
            <div class="hero-items-container row row-cols-1 row-cols-md-2 row-cols-lg-3">
                @if (Model.HomePage?.Sections != null && Model.HomePage.Sections.Any())
                {
                    @foreach (var item in Model.HomePage.Sections.OrderBy(s => s.Order))
                    {
                        var sectionTitle = isArabic ? item.TitleAr : item.TitleEn;
                        var sectionContent = isArabic ? item.ContentAr : item.ContentEn;
                        
                        <div class="hero-items col">
                            <img class="img-fluid" src="~/images/home/trophy.png" alt="Trophy Image" loading="lazy" />
                            <h2>@sectionTitle</h2>
                            <p>@sectionContent</p>
                        </div>
                    }
                }
            </div>
        </div>
        <div class="hero-footer">
            @if (!string.IsNullOrEmpty(subtitle))
            {
                <p>@subtitle</p>
            }
            <p>
                &copy;
                <script>
                    document.write(new Date().getFullYear());
                </script>
                @if (ViewBag.CompanyInfo != null)
                {
                    @(isArabic ? ViewBag.CompanyInfo.CopyrightTextAr : ViewBag.CompanyInfo.CopyrightTextEn)
                }
            </p>
        </div>
        <div class="hero-arrow">
            <button type="button" class="btn btn-link" onclick="window.location.href='@Url.Action("Home4", "Home")'">
                <svg width="108" height="68" viewBox="0 0 108 68" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 12.735L12.7305 0L54.018 42.0255L95.2695 0L108 12.735L54.018 67.5L0 12.735Z"
                        fill="#75C059" fill-opacity="0.3" />
                </svg>
            </button>
        </div>
    </div>
</section>
<script src="~/js/lang.js"></script>
<script src="~/js/home-navigation.js"></script>